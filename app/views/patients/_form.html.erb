<%= form_for @patient, html: { class: 'form-horizontal' } do |f| %>
	<% if @patient.errors.any? %>
		<div class="error_explanation">
			<h2>O formulário contém <%= pluralize(@patient.errors.count, "erro") %></h2>
			<ul>
				<% for message in @patient.errors.full_messages %>
					<li><%= message %></li>
				<% end %>
			</ul>
		</div>
	<% end %>
	
	<div class="form-group">
		<%= f.label :nome, class: 'col-sm-2 control-label' %>
		<div class="col-sm-10">
			<%= f.text_field :nome, class: 'form-control' %>
		</div>
	</div>
	<div class="form-group">
		<%= f.label :data_de_nascimento, "D. nasc.", class: 'col-sm-2 control-label' %>
		<div class="col-sm-3">
			<%= f.text_field :data_de_nascimento, class: 'form-control' %>
		</div>
	</div>
	<div class="form-group">
		<%= f.label :estado_civil, class: 'col-sm-2 control-label' %>
		<div class="col-sm-3">
			<%= f.select(:estado_civil, options_for_select(['Casado(a)', 'Solteiro(a)', 'Viuvo(a)', 'Outro']), { include_blank: true },  { class: 'form-control' }) %>
		</div>
	</div>
	<div class="form-group">
		<%= f.label :residencia, class: 'col-sm-2 control-label' %>
		<div class="col-sm-10">
			<%= f.text_field :residencia, class: 'form-control' %>
		</div>
	</div>
	<div class="form-group">
		<%= f.label :telefone, class: 'col-sm-2 control-label' %>
		<div class="col-sm-3">
			<%= f.text_field :telefone, class: 'form-control' %>
		</div>
	</div>
	<div class="form-group">
		<%= f.label :cartao_de_cidadao, "CC", class: 'col-sm-2 control-label' %>
		<div class="col-sm-3">
			<%= f.text_field :cartao_de_cidadao, class: 'form-control' %>
		</div>
		<%= f.label :numero_identificacao_fiscal, "NIF", class: 'col-sm-2 control-label' %>
		<div class="col-sm-3">
			<%= f.text_field :numero_identificacao_fiscal, class: 'form-control' %>
		</div>
	</div>
	<div class="form-group">
		<%= f.label :subsystem_id, "Subsistema", class: 'col-sm-2 control-label' %>
		<div class="col-sm-3">
			<%= f.collection_select(:subsystem_id, Subsystem.order('nome'), :id, :nome, { include_blank: true }, { class: 'form-control'}) %>
		</div>
		<%= f.label :subsystem_number, "Número", class: 'col-sm-2 control-label' %>
		<div class="col-sm-3">
			<%= f.text_field :subsystem_number, class: 'form-control' %>
		</div>
	</div>
	<div class="panel panel-default">
  		<div class="panel-body">
  			<h2>Contacto preferêncial</h2>
  			<div class="form-group">
	  			<%= f.label :nome_contacto_preferencial, "Nome", class: 'col-sm-2 control-label' %>
	  			<div class="col-sm-10">
					<%= f.text_field :nome_contacto_preferencial, class: 'form-control' %>
				</div>
			</div>
			<div class="form-group">
				<%= f.label :morada_contacto_preferencial, "Morada", class: 'col-sm-2 control-label' %>
				<div class="col-sm-10">
					<%= f.text_field :morada_contacto_preferencial, class: 'form-control' %>
				</div>
			</div>
			<div class="form-group">
				<%= f.label :telefone_contacto_preferencial, "Telefone", class: 'col-sm-2 control-label' %>
				<div class="col-sm-4">
					<%= f.text_field :telefone_contacto_preferencial, class: 'form-control' %>
				</div>
				<%= f.label :telemovel_contacto_preferencial, "Telemóvel", class: 'col-sm-2 control-label' %>
				<div class="col-sm-4">
					<%= f.text_field :telemovel_contacto_preferencial, class: 'form-control' %>
				</div>
			</div>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-3">
			<%= f.submit "Guardar", class: 'btn btn-success' %>
		</div>
		<div class="col-sm-3">
			<%= link_to "Cancelar", @patient, class: 'btn' %>
		</div>
	</div>
<% end %>

<script type="text/javascript">
	$(document).ready(function(){
		$('input#patient_data_de_nascimento').datepicker({
			format: "yyyy-mm-dd"
		});
	});
</script>